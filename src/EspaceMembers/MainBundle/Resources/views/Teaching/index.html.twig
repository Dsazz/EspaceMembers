{% extends 'EspaceMembersMainBundle::layout.html.twig' %}

{% block javascript %}
    {{ parent() }}
    <script>$(function() {
        {% if accordion is defined %}
            $( "#accordion" ).accordion({active: {{ accordion }} });
        {% else %}
            $( "#accordion" ).accordion({ collapsible: true, active: false });
        {% endif %}
    });
    </script>
    <script src="{{ asset('bundles/espacemembersmain/js/teaching/index.js') }}"></script>
{% endblock javascript %}

{% block enseignement_active %}
    <li class="current">
        <a class="active enseignements" href="{{ path ('espace_members_teaching') }}">Enseignements</a>
    </li>
{% endblock enseignement_active %}

{% block body %}
<div class="content">
    {% block right_column %}
        {% set accordion = accordion is defined ? accordion : -1 %}
        {{ render(controller('EspaceMembersMainBundle:Render:rightBlock', {
            'accordion': accordion
        })) }}
    {% endblock right_column %}

    {% block left_column %}
        {% if chronologies is defined %}
            {% if chronologies is iterable %}
                {% for chronology in chronologies %}
                    {{ include( 'EspaceMembersMainBundle:Teaching:left-block.html.twig', {
                        'chronology' : chronology,
                    }) }}
                {% else %}
                    <div class="left-column">
                        <p>Not found entries</p>
                    </div>
                {% endfor %}
            {% else %}
                {{ include( 'EspaceMembersMainBundle:Teaching:left-block.html.twig', {
                    'chronology' : chronologies,
                }) }}
            {% endif %}
        {% else %}
            <div class="left-column">
                <p>Not found entries</p>
            </div>
        {% endif %}
    {% endblock left_column %}
</div>
<div class="clear"><!-- --></div>
{% endblock %}
